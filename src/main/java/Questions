How to update my balance variable and save with polymorphism while it is out of scope